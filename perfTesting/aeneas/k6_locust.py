from locust import User,HttpUser, TaskSet, task, constant
from locust import LoadTestShape
from rabbitmq import get_client
from locust import User, TaskSet, events, task, between,constant_pacing,constant_throughput
from locust import Locust, TaskSet, task, events


class RabbitTaskSet(TaskSet):
    @task
    def publish(self):
        get_client().publish()



class MyLocust(User):
    tasks = {RabbitTaskSet}
#    wait_time = constant_throughput(1)
    wait_time = constant(1)
#    wait_time = between(0.5, 10)


class StagesShape(LoadTestShape):
    """
    A simply load test shape class that has different user and spawn_rate at
    different stages.

    Keyword arguments:

        stages -- A list of dicts, each representing a stage with the following keys:
            duration -- When this many seconds pass the test is advanced to the next stage
            users -- Total user count
            spawn_rate -- Number of users to start/stop per second
            stop -- A boolean that can stop that test at a specific stage

        stop_at_end -- Can be set to stop once all stages have run.
    """
## Jump data ###
    jump_data = [ {'users': 1, 'duration': 541, 'spawn_rate': 1}, {'users': 1, 'duration': 600, 'spawn_rate': 1}, {'users': 0, 'duration': 601, 'spawn_rate': 1}, {'users': 0, 'duration': 660, 'spawn_rate': 1}, {'users': 1, 'duration': 661, 'spawn_rate': 1}, {'users': 1, 'duration': 772, 'spawn_rate': 1}, {'users': 0, 'duration': 773, 'spawn_rate': 1}, {'users': 0, 'duration': 780, 'spawn_rate': 1}, {'users': 5, 'duration': 781, 'spawn_rate': 1}, {'users': 5, 'duration': 840, 'spawn_rate': 5}, {'users': 0, 'duration': 841, 'spawn_rate': 1}, {'users': 0, 'duration': 977, 'spawn_rate': 1}, {'users': 1, 'duration': 978, 'spawn_rate': 1}, {'users': 1, 'duration': 1020, 'spawn_rate': 1}, {'users': 0, 'duration': 1021, 'spawn_rate': 1}, {'users': 0, 'duration': 1200, 'spawn_rate': 1}]
## Steady workload##
    steady_data = [{'users': 2, 'duration': 1200, 'spawn_rate': 2}]

##Spikes_data##
#    spike_data = [{'users': 1, 'duration': 120, 'spawn_rate': 1}, {'users': 8, 'duration': 121, 'spawn_rate': 8}, {'users': 8, 'duration': 137, 'spawn_rate': 8}, {'users': 7, 'duration': 138, 'spawn_rate': 7}, {'users': 7, 'duration': 180, 'spawn_rate': 7}, {'users': 2, 'duration': 181, 'spawn_rate': 2}, {'users': 2, 'duration': 240, 'spawn_rate': 2}, {'users': 5, 'duration': 241, 'spawn_rate': 5}, {'users': 5, 'duration': 300, 'spawn_rate': 5}, {'users': 0, 'duration': 301, 'spawn_rate': 0}, {'users': 0, 'duration': 420, 'spawn_rate': 0}, {'users': 8, 'duration': 421, 'spawn_rate': 8}, {'users': 8, 'duration': 432, 'spawn_rate': 8}, {'users': 7, 'duration': 433, 'spawn_rate': 7}, {'users': 7, 'duration': 480, 'spawn_rate': 7}, {'users': 0, 'duration': 481, 'spawn_rate': 0}, {'users': 0, 'duration': 540, 'spawn_rate': 0}, {'users': 7, 'duration': 541, 'spawn_rate': 7}, {'users': 7, 'duration': 545, 'spawn_rate': 7}, {'users': 8, 'duration': 546, 'spawn_rate': 8}, {'users': 8, 'duration': 558, 'spawn_rate': 8}, {'users': 7, 'duration': 559, 'spawn_rate': 7}, {'users': 7, 'duration': 600, 'spawn_rate': 7}, {'users': 0, 'duration': 601, 'spawn_rate': 0}, {'users': 0, 'duration': 720, 'spawn_rate': 0}, {'users': 8, 'duration': 721, 'spawn_rate': 8}, {'users': 8, 'duration': 739, 'spawn_rate': 8}, {'users': 7, 'duration': 740, 'spawn_rate': 7}, {'users': 7, 'duration': 743, 'spawn_rate': 7}, {'users': 8, 'duration': 744, 'spawn_rate': 8}, {'users': 8, 'duration': 759, 'spawn_rate': 8}, {'users': 7, 'duration': 760, 'spawn_rate': 7}, {'users': 7, 'duration': 765, 'spawn_rate': 7}, {'users': 6, 'duration': 766, 'spawn_rate': 6}, {'users': 6, 'duration': 780, 'spawn_rate': 6}, {'users': 5, 'duration': 781, 'spawn_rate': 5}, {'users': 5, 'duration': 792, 'spawn_rate': 5}, {'users': 4, 'duration': 793, 'spawn_rate': 4}, {'users': 4, 'duration': 811, 'spawn_rate': 4}, {'users': 3, 'duration': 812, 'spawn_rate': 3}, {'users': 3, 'duration': 819, 'spawn_rate': 3}, {'users': 4, 'duration': 820, 'spawn_rate': 4}, {'users': 4, 'duration': 825, 'spawn_rate': 4}, {'users': 3, 'duration': 826, 'spawn_rate': 3}, {'users': 3, 'duration': 838, 'spawn_rate': 3}, {'users': 2, 'duration': 839, 'spawn_rate': 2}, {'users': 2, 'duration': 840, 'spawn_rate': 2}, {'users': 4, 'duration': 841, 'spawn_rate': 4}, {'users': 4, 'duration': 843, 'spawn_rate': 4}, {'users': 5, 'duration': 844, 'spawn_rate': 5}, {'users': 5, 'duration': 853, 'spawn_rate': 5}, {'users': 4, 'duration': 854, 'spawn_rate': 4}, {'users': 4, 'duration': 855, 'spawn_rate': 4}, {'users': 5, 'duration': 856, 'spawn_rate': 5}, {'users': 4, 'duration': 857, 'spawn_rate': 4}, {'users': 4, 'duration': 873, 'spawn_rate': 4}, {'users': 3, 'duration': 874, 'spawn_rate': 3}, {'users': 3, 'duration': 875, 'spawn_rate': 3}, {'users': 4, 'duration': 876, 'spawn_rate': 4}, {'users': 3, 'duration': 877, 'spawn_rate': 3}, {'users': 3, 'duration': 890, 'spawn_rate': 3}, {'users': 2, 'duration': 891, 'spawn_rate': 2}, {'users': 2, 'duration': 894, 'spawn_rate': 2}, {'users': 1, 'duration': 895, 'spawn_rate': 1}, {'users': 1, 'duration': 900, 'spawn_rate': 1}, {'users': 0, 'duration': 901, 'spawn_rate': 0}, {'users': 0, 'duration': 1020, 'spawn_rate': 0}, {'users': 3, 'duration': 1021, 'spawn_rate': 3}, {'users': 3, 'duration': 1024, 'spawn_rate': 3}, {'users': 4, 'duration': 1025, 'spawn_rate': 4}, {'users': 4, 'duration': 1027, 'spawn_rate': 4}, {'users': 3, 'duration': 1028, 'spawn_rate': 3}, {'users': 3, 'duration': 1029, 'spawn_rate': 3}, {'users': 4, 'duration': 1030, 'spawn_rate': 4}, {'users': 4, 'duration': 1041, 'spawn_rate': 4}, {'users': 5, 'duration': 1042, 'spawn_rate': 5}, {'users': 5, 'duration': 1044, 'spawn_rate': 5}, {'users': 6, 'duration': 1045, 'spawn_rate': 6}, {'users': 6, 'duration': 1046, 'spawn_rate': 6}, {'users': 7, 'duration': 1047, 'spawn_rate': 7}, {'users': 7, 'duration': 1049, 'spawn_rate': 7}, {'users': 8, 'duration': 1050, 'spawn_rate': 8}, {'users': 8, 'duration': 1052, 'spawn_rate': 8}, {'users': 9, 'duration': 1053, 'spawn_rate': 9}, {'users': 9, 'duration': 1054, 'spawn_rate': 9}, {'users': 10, 'duration': 1055, 'spawn_rate': 10}, {'users': 10, 'duration': 1056, 'spawn_rate': 10}, {'users': 9, 'duration': 1057, 'spawn_rate': 9}, {'users': 9, 'duration': 1058, 'spawn_rate': 9}, {'users': 10, 'duration': 1059, 'spawn_rate': 10}, {'users': 9, 'duration': 1060, 'spawn_rate': 9}, {'users': 9, 'duration': 1062, 'spawn_rate': 9}, {'users': 10, 'duration': 1063, 'spawn_rate': 10}, {'users': 10, 'duration': 1066, 'spawn_rate': 10}, {'users': 11, 'duration': 1067, 'spawn_rate': 11}, {'users': 11, 'duration': 1068, 'spawn_rate': 11}, {'users': 10, 'duration': 1069, 'spawn_rate': 10}, {'users': 10, 'duration': 1071, 'spawn_rate': 10}, {'users': 11, 'duration': 1072, 'spawn_rate': 11}, {'users': 11, 'duration': 1076, 'spawn_rate': 11}, {'users': 12, 'duration': 1077, 'spawn_rate': 12}, {'users': 12, 'duration': 1080, 'spawn_rate': 12}, {'users': 3, 'duration': 1081, 'spawn_rate': 3}, {'users': 3, 'duration': 1104, 'spawn_rate': 3}, {'users': 4, 'duration': 1105, 'spawn_rate': 4}, {'users': 4, 'duration': 1136, 'spawn_rate': 4}, {'users': 5, 'duration': 1137, 'spawn_rate': 5}, {'users': 5, 'duration': 1140, 'spawn_rate': 5}, {'users': 3, 'duration': 1141, 'spawn_rate': 3}, {'users': 3, 'duration': 1153, 'spawn_rate': 3}, {'users': 4, 'duration': 1154, 'spawn_rate': 4}, {'users': 4, 'duration': 1162, 'spawn_rate': 4}, {'users': 3, 'duration': 1163, 'spawn_rate': 3}, {'users': 3, 'duration': 1177, 'spawn_rate': 3}, {'users': 4, 'duration': 1178, 'spawn_rate': 4}, {'users': 3, 'duration': 1179, 'spawn_rate': 3}, {'users': 4, 'duration': 1180, 'spawn_rate': 4}, {'users': 4, 'duration': 1200, 'spawn_rate': 4}]
#    spike_data = [{'users': 0, 'duration': 120, 'spawn_rate': 1}, {'users': 8, 'duration': 121, 'spawn_rate': 8}, {'users': 8, 'duration': 137, 'spawn_rate': 8}, {'users': 7, 'duration': 138, 'spawn_rate': 7}, {'users': 7, 'duration': 180, 'spawn_rate': 7}, {'users': 2, 'duration': 181, 'spawn_rate': 2}, {'users': 2, 'duration': 240, 'spawn_rate': 2}, {'users': 5, 'duration': 241, 'spawn_rate': 5}, {'users': 5, 'duration': 300, 'spawn_rate': 5}, {'users': 0, 'duration': 301, 'spawn_rate': 1}, {'users': 0, 'duration': 420, 'spawn_rate': 1}, {'users': 8, 'duration': 421, 'spawn_rate': 8}, {'users': 8, 'duration': 432, 'spawn_rate': 8}, {'users': 7, 'duration': 433, 'spawn_rate': 7}, {'users': 7, 'duration': 480, 'spawn_rate': 7}, {'users': 0, 'duration': 481, 'spawn_rate': 1}, {'users': 0, 'duration': 540, 'spawn_rate': 1}, {'users': 7, 'duration': 541, 'spawn_rate': 7}, {'users': 7, 'duration': 545, 'spawn_rate': 7}, {'users': 8, 'duration': 546, 'spawn_rate': 8}, {'users': 8, 'duration': 558, 'spawn_rate': 8}, {'users': 7, 'duration': 559, 'spawn_rate': 7}, {'users': 7, 'duration': 600, 'spawn_rate': 7}, {'users': 0, 'duration': 601, 'spawn_rate': 1}, {'users': 0, 'duration': 720, 'spawn_rate': 1}, {'users': 8, 'duration': 721, 'spawn_rate': 8}, {'users': 8, 'duration': 739, 'spawn_rate': 8}, {'users': 7, 'duration': 740, 'spawn_rate': 7}, {'users': 7, 'duration': 743, 'spawn_rate': 7}, {'users': 8, 'duration': 744, 'spawn_rate': 8}, {'users': 8, 'duration': 759, 'spawn_rate': 8}, {'users': 7, 'duration': 760, 'spawn_rate': 7}, {'users': 7, 'duration': 765, 'spawn_rate': 7}, {'users': 6, 'duration': 766, 'spawn_rate': 6}, {'users': 6, 'duration': 780, 'spawn_rate': 6}, {'users': 5, 'duration': 781, 'spawn_rate': 5}, {'users': 5, 'duration': 792, 'spawn_rate': 5}, {'users': 4, 'duration': 793, 'spawn_rate': 4}, {'users': 4, 'duration': 811, 'spawn_rate': 4}, {'users': 3, 'duration': 812, 'spawn_rate': 3}, {'users': 3, 'duration': 819, 'spawn_rate': 3}, {'users': 4, 'duration': 820, 'spawn_rate': 4}, {'users': 4, 'duration': 825, 'spawn_rate': 4}, {'users': 3, 'duration': 826, 'spawn_rate': 3}, {'users': 3, 'duration': 838, 'spawn_rate': 3}, {'users': 2, 'duration': 839, 'spawn_rate': 2}, {'users': 2, 'duration': 840, 'spawn_rate': 2}, {'users': 4, 'duration': 841, 'spawn_rate': 4}, {'users': 4, 'duration': 843, 'spawn_rate': 4}, {'users': 5, 'duration': 844, 'spawn_rate': 5}, {'users': 5, 'duration': 853, 'spawn_rate': 5}, {'users': 4, 'duration': 854, 'spawn_rate': 4}, {'users': 4, 'duration': 855, 'spawn_rate': 4}, {'users': 5, 'duration': 856, 'spawn_rate': 5}, {'users': 4, 'duration': 857, 'spawn_rate': 4}, {'users': 4, 'duration': 873, 'spawn_rate': 4}, {'users': 3, 'duration': 874, 'spawn_rate': 3}, {'users': 3, 'duration': 875, 'spawn_rate': 3}, {'users': 4, 'duration': 876, 'spawn_rate': 4}, {'users': 3, 'duration': 877, 'spawn_rate': 3}, {'users': 3, 'duration': 890, 'spawn_rate': 3}, {'users': 2, 'duration': 891, 'spawn_rate': 2}, {'users': 2, 'duration': 894, 'spawn_rate': 2}, {'users': 1, 'duration': 895, 'spawn_rate': 1}, {'users': 1, 'duration': 900, 'spawn_rate': 1}, {'users': 0, 'duration': 901, 'spawn_rate': 1}, {'users': 0, 'duration': 1020, 'spawn_rate': 1}, {'users': 3, 'duration': 1021, 'spawn_rate': 3}, {'users': 3, 'duration': 1024, 'spawn_rate': 3}, {'users': 4, 'duration': 1025, 'spawn_rate': 4}, {'users': 4, 'duration': 1027, 'spawn_rate': 4}, {'users': 3, 'duration': 1028, 'spawn_rate': 3}, {'users': 3, 'duration': 1029, 'spawn_rate': 3}, {'users': 4, 'duration': 1030, 'spawn_rate': 4}, {'users': 4, 'duration': 1041, 'spawn_rate': 4}, {'users': 5, 'duration': 1042, 'spawn_rate': 5}, {'users': 5, 'duration': 1044, 'spawn_rate': 5}, {'users': 6, 'duration': 1045, 'spawn_rate': 6}, {'users': 6, 'duration': 1046, 'spawn_rate': 6}, {'users': 7, 'duration': 1047, 'spawn_rate': 7}, {'users': 7, 'duration': 1049, 'spawn_rate': 7}, {'users': 8, 'duration': 1050, 'spawn_rate': 8}, {'users': 8, 'duration': 1052, 'spawn_rate': 8}, {'users': 9, 'duration': 1053, 'spawn_rate': 9}, {'users': 9, 'duration': 1054, 'spawn_rate': 9}, {'users': 10, 'duration': 1055, 'spawn_rate': 10}, {'users': 10, 'duration': 1056, 'spawn_rate': 10}, {'users': 9, 'duration': 1057, 'spawn_rate': 9}, {'users': 9, 'duration': 1058, 'spawn_rate': 9}, {'users': 10, 'duration': 1059, 'spawn_rate': 10}, {'users': 9, 'duration': 1060, 'spawn_rate': 9}, {'users': 9, 'duration': 1062, 'spawn_rate': 9}, {'users': 10, 'duration': 1063, 'spawn_rate': 10}, {'users': 10, 'duration': 1066, 'spawn_rate': 10}, {'users': 11, 'duration': 1067, 'spawn_rate': 11}, {'users': 11, 'duration': 1068, 'spawn_rate': 11}, {'users': 10, 'duration': 1069, 'spawn_rate': 10}, {'users': 10, 'duration': 1071, 'spawn_rate': 10}, {'users': 11, 'duration': 1072, 'spawn_rate': 11}, {'users': 11, 'duration': 1076, 'spawn_rate': 11}, {'users': 12, 'duration': 1077, 'spawn_rate': 12}, {'users': 12, 'duration': 1080, 'spawn_rate': 12}, {'users': 3, 'duration': 1081, 'spawn_rate': 3}, {'users': 3, 'duration': 1104, 'spawn_rate': 3}, {'users': 4, 'duration': 1105, 'spawn_rate': 4}, {'users': 4, 'duration': 1136, 'spawn_rate': 4}, {'users': 5, 'duration': 1137, 'spawn_rate': 5}, {'users': 5, 'duration': 1140, 'spawn_rate': 5}, {'users': 3, 'duration': 1141, 'spawn_rate': 3}, {'users': 3, 'duration': 1153, 'spawn_rate': 3}, {'users': 4, 'duration': 1154, 'spawn_rate': 4}, {'users': 4, 'duration': 1162, 'spawn_rate': 4}, {'users': 3, 'duration': 1163, 'spawn_rate': 3}, {'users': 3, 'duration': 1177, 'spawn_rate': 3}, {'users': 4, 'duration': 1178, 'spawn_rate': 4}, {'users': 3, 'duration': 1179, 'spawn_rate': 3}, {'users': 4, 'duration': 1180, 'spawn_rate': 4}, {'users': 4, 'duration': 1200, 'spawn_rate': 4}]
    spikes_data = [{'users': 0, 'duration': 120, 'spawn_rate': 1}, {'users': 3, 'duration': 121, 'spawn_rate': 3}, {'users': 3, 'duration': 122, 'spawn_rate': 3}, {'users': 2, 'duration': 123, 'spawn_rate': 2}, {'users': 2, 'duration': 180, 'spawn_rate': 2}, {'users': 1, 'duration': 181, 'spawn_rate': 1}, {'users': 1, 'duration': 240, 'spawn_rate': 1}, {'users': 3, 'duration': 241, 'spawn_rate': 3}, {'users': 3, 'duration': 247, 'spawn_rate': 3}, {'users': 2, 'duration': 248, 'spawn_rate': 2}, {'users': 2, 'duration': 262, 'spawn_rate': 2}, {'users': 1, 'duration': 263, 'spawn_rate': 1}, {'users': 1, 'duration': 300, 'spawn_rate': 1}, {'users': 0, 'duration': 301, 'spawn_rate': 1}, {'users': 0, 'duration': 420, 'spawn_rate': 1}, {'users': 2, 'duration': 421, 'spawn_rate': 2}, {'users': 2, 'duration': 480, 'spawn_rate': 2}, {'users': 0, 'duration': 481, 'spawn_rate': 1}, {'users': 0, 'duration': 540, 'spawn_rate': 1}, {'users': 2, 'duration': 541, 'spawn_rate': 2}, {'users': 2, 'duration': 600, 'spawn_rate': 2}, {'users': 0, 'duration': 601, 'spawn_rate': 1}, {'users': 0, 'duration': 720, 'spawn_rate': 1}, {'users': 2, 'duration': 721, 'spawn_rate': 2}, {'users': 2, 'duration': 780, 'spawn_rate': 2}, {'users': 1, 'duration': 781, 'spawn_rate': 1}, {'users': 1, 'duration': 900, 'spawn_rate': 1}, {'users': 0, 'duration': 901, 'spawn_rate': 1}, {'users': 0, 'duration': 1020, 'spawn_rate': 1}, {'users': 3, 'duration': 1021, 'spawn_rate': 3}, {'users': 3, 'duration': 1049, 'spawn_rate': 3}, {'users': 2, 'duration': 1050, 'spawn_rate': 2}, {'users': 2, 'duration': 1067, 'spawn_rate': 2}, {'users': 1, 'duration': 1068, 'spawn_rate': 1}, {'users': 1, 'duration': 1171, 'spawn_rate': 1}, {'users': 2, 'duration': 1172, 'spawn_rate': 2}, {'users': 2, 'duration': 1183, 'spawn_rate': 2}, {'users': 1, 'duration': 1184, 'spawn_rate': 1}, {'users': 1, 'duration': 1192, 'spawn_rate': 1}, {'users': 0, 'duration': 1193, 'spawn_rate': 1}, {'users': 0, 'duration': 1200, 'spawn_rate': 1}]
    
    
    fluctuation = [{'users': 2, 'duration': 8, 'spawn_rate': 2}, {'users': 3, 'duration': 9, 'spawn_rate': 3}, {'users': 3, 'duration': 60, 'spawn_rate': 3}, {'users': 2, 'duration': 61, 'spawn_rate': 2}, {'users': 3, 'duration': 62, 'spawn_rate': 3}, {'users': 3, 'duration': 120, 'spawn_rate': 3}, {'users': 5, 'duration': 121, 'spawn_rate': 5}, {'users': 5, 'duration': 135, 'spawn_rate': 5}, {'users': 4, 'duration': 136, 'spawn_rate': 4}, {'users': 5, 'duration': 137, 'spawn_rate': 5}, {'users': 5, 'duration': 138, 'spawn_rate': 5}, {'users': 4, 'duration': 139, 'spawn_rate': 4}, {'users': 4, 'duration': 145, 'spawn_rate': 4}, {'users': 3, 'duration': 146, 'spawn_rate': 3}, {'users': 3, 'duration': 160, 'spawn_rate': 3}, {'users': 2, 'duration': 161, 'spawn_rate': 2}, {'users': 2, 'duration': 164, 'spawn_rate': 2}, {'users': 3, 'duration': 165, 'spawn_rate': 3}, {'users': 3, 'duration': 166, 'spawn_rate': 3}, {'users': 2, 'duration': 167, 'spawn_rate': 2}, {'users': 3, 'duration': 168, 'spawn_rate': 3}, {'users': 3, 'duration': 177, 'spawn_rate': 3}, {'users': 2, 'duration': 178, 'spawn_rate': 2}, {'users': 2, 'duration': 180, 'spawn_rate': 2}, {'users': 5, 'duration': 181, 'spawn_rate': 5}, {'users': 5, 'duration': 186, 'spawn_rate': 5}, {'users': 6, 'duration': 187, 'spawn_rate': 6}, {'users': 6, 'duration': 188, 'spawn_rate': 6}, {'users': 5, 'duration': 189, 'spawn_rate': 5}, {'users': 5, 'duration': 190, 'spawn_rate': 5}, {'users': 4, 'duration': 191, 'spawn_rate': 4}, {'users': 5, 'duration': 192, 'spawn_rate': 5}, {'users': 4, 'duration': 193, 'spawn_rate': 4}, {'users': 4, 'duration': 199, 'spawn_rate': 4}, {'users': 3, 'duration': 200, 'spawn_rate': 3}, {'users': 3, 'duration': 205, 'spawn_rate': 3}, {'users': 2, 'duration': 206, 'spawn_rate': 2}, {'users': 3, 'duration': 207, 'spawn_rate': 3}, {'users': 3, 'duration': 208, 'spawn_rate': 3}, {'users': 4, 'duration': 209, 'spawn_rate': 4}, {'users': 4, 'duration': 212, 'spawn_rate': 4}, {'users': 3, 'duration': 213, 'spawn_rate': 3}, {'users': 3, 'duration': 215, 'spawn_rate': 3}, {'users': 2, 'duration': 216, 'spawn_rate': 2}, {'users': 2, 'duration': 218, 'spawn_rate': 2}, {'users': 1, 'duration': 219, 'spawn_rate': 1}, {'users': 1, 'duration': 220, 'spawn_rate': 1}, {'users': 0, 'duration': 221, 'spawn_rate': 1}, {'users': 0, 'duration': 223, 'spawn_rate': 1}, {'users': 1, 'duration': 224, 'spawn_rate': 1}, {'users': 1, 'duration': 227, 'spawn_rate': 1}, {'users': 0, 'duration': 228, 'spawn_rate': 1}, {'users': 0, 'duration': 231, 'spawn_rate': 1}, {'users': 1, 'duration': 232, 'spawn_rate': 1}, {'users': 1, 'duration': 235, 'spawn_rate': 1}, {'users': 2, 'duration': 236, 'spawn_rate': 2}, {'users': 2, 'duration': 240, 'spawn_rate': 2}, {'users': 1, 'duration': 241, 'spawn_rate': 1}, {'users': 1, 'duration': 258, 'spawn_rate': 1}, {'users': 2, 'duration': 259, 'spawn_rate': 2}, {'users': 2, 'duration': 263, 'spawn_rate': 2}, {'users': 3, 'duration': 264, 'spawn_rate': 3}, {'users': 3, 'duration': 267, 'spawn_rate': 3}, {'users': 4, 'duration': 268, 'spawn_rate': 4}, {'users': 4, 'duration': 289, 'spawn_rate': 4}, {'users': 3, 'duration': 290, 'spawn_rate': 3}, {'users': 3, 'duration': 292, 'spawn_rate': 3}, {'users': 4, 'duration': 293, 'spawn_rate': 4}, {'users': 4, 'duration': 300, 'spawn_rate': 4}, {'users': 1, 'duration': 301, 'spawn_rate': 1}, {'users': 1, 'duration': 303, 'spawn_rate': 1}, {'users': 2, 'duration': 304, 'spawn_rate': 2}, {'users': 2, 'duration': 335, 'spawn_rate': 2}, {'users': 3, 'duration': 336, 'spawn_rate': 3}, {'users': 3, 'duration': 352, 'spawn_rate': 3}, {'users': 4, 'duration': 353, 'spawn_rate': 4}, {'users': 4, 'duration': 360, 'spawn_rate': 4}, {'users': 3, 'duration': 361, 'spawn_rate': 3}, {'users': 3, 'duration': 365, 'spawn_rate': 3}, {'users': 4, 'duration': 366, 'spawn_rate': 4}, {'users': 4, 'duration': 373, 'spawn_rate': 4}, {'users': 3, 'duration': 374, 'spawn_rate': 3}, {'users': 3, 'duration': 383, 'spawn_rate': 3}, {'users': 4, 'duration': 384, 'spawn_rate': 4}, {'users': 4, 'duration': 413, 'spawn_rate': 4}, {'users': 3, 'duration': 414, 'spawn_rate': 3}, {'users': 3, 'duration': 420, 'spawn_rate': 3}, {'users': 2, 'duration': 421, 'spawn_rate': 2}, {'users': 2, 'duration': 447, 'spawn_rate': 2}, {'users': 3, 'duration': 448, 'spawn_rate': 3}, {'users': 3, 'duration': 501, 'spawn_rate': 3}, {'users': 4, 'duration': 502, 'spawn_rate': 4}, {'users': 4, 'duration': 508, 'spawn_rate': 4}, {'users': 3, 'duration': 509, 'spawn_rate': 3}, {'users': 3, 'duration': 512, 'spawn_rate': 3}, {'users': 4, 'duration': 513, 'spawn_rate': 4}, {'users': 4, 'duration': 514, 'spawn_rate': 4}, {'users': 3, 'duration': 515, 'spawn_rate': 3}, {'users': 3, 'duration': 540, 'spawn_rate': 3}, {'users': 2, 'duration': 541, 'spawn_rate': 2}, {'users': 2, 'duration': 557, 'spawn_rate': 2}, {'users': 3, 'duration': 558, 'spawn_rate': 3}, {'users': 3, 'duration': 575, 'spawn_rate': 3}, {'users': 2, 'duration': 576, 'spawn_rate': 2}, {'users': 2, 'duration': 600, 'spawn_rate': 2}, {'users': 4, 'duration': 601, 'spawn_rate': 4}, {'users': 4, 'duration': 613, 'spawn_rate': 4}, {'users': 3, 'duration': 614, 'spawn_rate': 3}, {'users': 3, 'duration': 636, 'spawn_rate': 3}, {'users': 2, 'duration': 637, 'spawn_rate': 2}, {'users': 2, 'duration': 660, 'spawn_rate': 2}, {'users': 3, 'duration': 661, 'spawn_rate': 3}, {'users': 3, 'duration': 665, 'spawn_rate': 3}, {'users': 2, 'duration': 666, 'spawn_rate': 2}, {'users': 2, 'duration': 688, 'spawn_rate': 2}, {'users': 3, 'duration': 689, 'spawn_rate': 3}, {'users': 3, 'duration': 708, 'spawn_rate': 3}, {'users': 4, 'duration': 709, 'spawn_rate': 4}, {'users': 4, 'duration': 717, 'spawn_rate': 4}, {'users': 5, 'duration': 718, 'spawn_rate': 5}, {'users': 5, 'duration': 720, 'spawn_rate': 5}, {'users': 3, 'duration': 721, 'spawn_rate': 3}, {'users': 3, 'duration': 772, 'spawn_rate': 3}, {'users': 4, 'duration': 773, 'spawn_rate': 4}, {'users': 4, 'duration': 780, 'spawn_rate': 4}, {'users': 2, 'duration': 781, 'spawn_rate': 2}, {'users': 2, 'duration': 801, 'spawn_rate': 2}, {'users': 3, 'duration': 802, 'spawn_rate': 3}, {'users': 3, 'duration': 840, 'spawn_rate': 3}, {'users': 2, 'duration': 841, 'spawn_rate': 2}, {'users': 2, 'duration': 900, 'spawn_rate': 2}, {'users': 3, 'duration': 901, 'spawn_rate': 3}, {'users': 3, 'duration': 961, 'spawn_rate': 3}, {'users': 2, 'duration': 962, 'spawn_rate': 2}, {'users': 2, 'duration': 979, 'spawn_rate': 2}, {'users': 3, 'duration': 980, 'spawn_rate': 3}, {'users': 3, 'duration': 1200, 'spawn_rate': 3}]
 #   fluctuation = [{'users': 0, 'duration': 120, 'spawn_rate': 0}, {'users': 3, 'duration': 121, 'spawn_rate': 3}, {'users': 3, 'duration': 122, 'spawn_rate': 3}, {'users': 2, 'duration': 123, 'spawn_rate': 2}, {'users': 2, 'duration': 180, 'spawn_rate': 2}, {'users': 1, 'duration': 181, 'spawn_rate': 1}, {'users': 1, 'duration': 240, 'spawn_rate': 1}, {'users': 3, 'duration': 241, 'spawn_rate': 3}, {'users': 3, 'duration': 247, 'spawn_rate': 3}, {'users': 2, 'duration': 248, 'spawn_rate': 2}, {'users': 2, 'duration': 262, 'spawn_rate': 2}, {'users': 1, 'duration': 263, 'spawn_rate': 1}, {'users': 1, 'duration': 300, 'spawn_rate': 1}, {'users': 0, 'duration': 301, 'spawn_rate': 0}, {'users': 0, 'duration': 420, 'spawn_rate': 0}, {'users': 2, 'duration': 421, 'spawn_rate': 2}, {'users': 2, 'duration': 480, 'spawn_rate': 2}, {'users': 0, 'duration': 481, 'spawn_rate': 0}, {'users': 0, 'duration': 540, 'spawn_rate': 0}, {'users': 2, 'duration': 541, 'spawn_rate': 2}, {'users': 2, 'duration': 600, 'spawn_rate': 2}, {'users': 0, 'duration': 601, 'spawn_rate': 0}, {'users': 0, 'duration': 720, 'spawn_rate': 0}, {'users': 2, 'duration': 721, 'spawn_rate': 2}, {'users': 2, 'duration': 780, 'spawn_rate': 2}, {'users': 1, 'duration': 781, 'spawn_rate': 1}, {'users': 1, 'duration': 900, 'spawn_rate': 1}, {'users': 0, 'duration': 901, 'spawn_rate': 0}, {'users': 0, 'duration': 1020, 'spawn_rate': 0}, {'users': 3, 'duration': 1021, 'spawn_rate': 3}, {'users': 3, 'duration': 1049, 'spawn_rate': 3}, {'users': 2, 'duration': 1050, 'spawn_rate': 2}, {'users': 2, 'duration': 1067, 'spawn_rate': 2}, {'users': 1, 'duration': 1068, 'spawn_rate': 1}, {'users': 1, 'duration': 1171, 'spawn_rate': 1}, {'users': 2, 'duration': 1172, 'spawn_rate': 2}, {'users': 2, 'duration': 1183, 'spawn_rate': 2}, {'users': 1, 'duration': 1184, 'spawn_rate': 1}, {'users': 1, 'duration': 1192, 'spawn_rate': 1}, {'users': 0, 'duration': 1193, 'spawn_rate': 0}, {'users': 0, 'duration': 1200, 'spawn_rate': 0}]
    stages = fluctuation

    
    def tick(self):
        run_time = self.get_run_time()

        for stage in self.stages:
            if run_time < stage["duration"]:
                tick_data = (stage["users"], stage["spawn_rate"])
                return tick_data

        return None
